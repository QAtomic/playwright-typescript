# Instructions

- Following Playwright test failed.
- Explain why, be concise, respect Playwright best practices.
- Provide a snippet of code with the fix, if possible.

# Test info

- Name: Free Trials Tests >> Broken Link Checker
- Location: C:\Users\Drew\Documents\VScode-workspace\playwright-typescript\test\ui\tests\freeTrialsTests.spec.ts:15:5

# Error details

```
Error: null is not a valid href

expect(received).toBeTruthy()

Received: null
    at reduce (C:\Users\Drew\Documents\VScode-workspace\playwright-typescript\test\ui\utils\brokenLinkChecker.ts:16:58)
    at brokenLinkChecker (C:\Users\Drew\Documents\VScode-workspace\playwright-typescript\test\ui\utils\brokenLinkChecker.ts:15:36)
    at FreeTrialsPage.checkForBrokenLinks (C:\Users\Drew\Documents\VScode-workspace\playwright-typescript\test\ui\pages\freeTrialspage.ts:27:9)
    at C:\Users\Drew\Documents\VScode-workspace\playwright-typescript\test\ui\tests\freeTrialsTests.spec.ts:17:9
```

# Page snapshot

```yaml
- navigation:
  - figure:
    - link "skip navigation"
    - link "Go to Homepage":
      - img
  - list:
    - listitem:
      - button "Product Navigation": All Products
  - list:
    - listitem:
      - link "Demos"
    - listitem:
      - link "Services"
    - listitem:
      - link "Blogs"
    - listitem:
      - link "Docs & Support"
    - listitem:
      - link "Pricing"
  - list:
    - listitem:
      - link "Search":
        - img
    - listitem:
      - link "Shopping cart":
        - img
    - listitem:
      - link "Your Account":
        - img
    - listitem:
      - link "Contact Us":
        - img
    - listitem:
      - link "Get A Free Trial"
- img "Free-Trialss"
- heading "Free Trials" [level=1]
- paragraph: "*30-day FREE trial. No credit card required. Free technical support during your trial."
- img "Kendo-UI-kendoka_nindja"
- img "Telerik-DevCraft"
- text: Best Value for Money
- heading "Telerik DevCraft" [level=4]
- paragraph: Build engaging and inclusive web, desktop, mobile and cross-platform applications in half the time with the most comprehensive bundle of 1,250+ Telerik .NET controls and Kendo UI JavaScript components. Integrate functionalities with Embedded Reporting, Mocking and Design tools. Plus, flexible pricing, support options, resources and getting started training. All in one bundle.
- link "Try now"
- img "Kendo-UI-kendoka_nindja"
- img "Kendo-UI"
- heading "Kendo UI" [level=4]
- paragraph: Build engaging and inclusive web applications in JavaScript with Kendo UI. This bundle includes four industry-leading libraries built specially for Angular, React, jQuery and Vue. Boost productivity and cut down manual work with Visual Studio Code extensions and Progress ThemeBuilder.
- img "Kendo-Angular"
- img "Kendo-React"
- img "Kendo-Vue"
- img "Kendo-jQuery"
- link "Try now"
- heading "Web UI Libraries" [level=3]
- separator
- heading ".NET web UI components" [level=6]
- heading "Telerik UI for Blazor" [level=5]
- paragraph: Develop new Blazor apps and modernize legacy web projects in half the time with a high-performing Grid and 110+ native Blazor UI components to cover any scenario. Add design themes and powerful VS Productivity tools for easy customization and productivity gains.
- link "Try Now "
- heading "Telerik UI for ASP.NET Core" [level=5]
- paragraph: Create modern cross-platform web applications with a high-performing Grid and 110+ full-featured ASP.NET Core UI components for any scenario. Add design themes for easy and endless customizations.
- link "Try Now "
- heading "Telerik UI for ASP.NET MVC" [level=5]
- paragraph: Deliver high-quality apps in the quickest timeframe using a high-performing Grid and 110+ ASP.NET MVC UI controls that cover any use case scenario. Add design themes for easy and endless customizations.
- link "Try Now "
- heading "Telerik UI for ASP.NET AJAX" [level=5]
- paragraph: Build Web Forms apps for any browser and device in half the time with 120+ feature-rich ASP.NET AJAX UI components tailored to your needs.
- link "Try Now "
- heading "JavaScript web UI components" [level=6]
- heading "Kendo UI for Angular" [level=5]
- paragraph: Build Kendo UI for Angular applications in no time with a high-performing Grid and 110+ native, easy-to-customize Angular components to cover any scenario.
- link "Try Now "
- heading "KendoReact" [level=5]
- paragraph: Design and build React apps with 100+ professional components on a mission to help you design and build business apps with React much faster.
- link "Try Now "
- heading "Kendo UI for jQuery" [level=5]
- paragraph: Satisfy all your jQuery app requirements in no time with this continuously updated and improved library of jQuery UI components.
- link "Try Now "
- heading "Kendo UI for Vue" [level=5]
- paragraph: Build consistent and modern Vue UI in no time with a native Vue.js component suite. Includes data grid, charts, form inputs and everything else you need in a single package.
- link "Try Now "
- heading "Mobile UI Libraries" [level=3]
- separator
- heading "Telerik UI for .NET MAUI New" [level=5]
- paragraph: Kickstart your cross-platform application development and modernize legacy projects with Telerik’s UI suite of 60+ .NET MAUI components. Code once and build applications for Windows, macOS, Android and iOS.
- link "Try Now "
- heading "Desktop UI Libraries" [level=3]
- separator
- heading "Telerik UI for .NET MAUI New" [level=5]
- paragraph: Kickstart your cross-platform application development and modernize legacy projects with Telerik’s UI suite of 60+ .NET MAUI components. Code once and build applications for Windows, macOS, Android and iOS.
- link "Try Now "
- heading "Telerik UI for WPF" [level=5]
- paragraph: Build beautiful and high-performance WPF applications in no time with 160+ native WPF UI controls.
- link "Try Now "
- heading "Telerik UI for WinForms" [level=5]
- paragraph: Create modern, supercharged WinForms applications in no time with 160+ native WinForms UI controls.
- link "Try Now "
- heading "Telerik UI for WinUI" [level=5]
- paragraph: Create state-of-the-art Windows desktop apps with the best-in-class WinUI control suite.
- link "Try Now "
- heading "Document Management Libraries" [level=3]
- separator
- heading "Telerik Document Processing" [level=5]
- paragraph: .NET libraries to create and edit PDF, Word and Excel files in your web, desktop, mobile and cross-platform .NET applications. Download as part of DevCraft bundle.
- link "Try Now "
- heading "UI/UX Tools" [level=3]
- separator
- heading "Progress ThemeBuilder New" [level=5]
- paragraph: Style your Telerik and Kendo UI components faster and with ease to perfectly match any brand and application design.
- paragraph: "*Note: 7-day FREE trial"
- link "Try Now "
- heading "Reporting" [level=3]
- separator
- heading "Telerik Reporting" [level=5]
- paragraph: Build beautiful data visualizations with a complete .NET embedded reporting tool for web and desktop applications. Empower your business users to easily create, edit and view reports on their own. Supports Blazor, Angular, React, ASP.NET Core/MVC, ASP.NET Web Forms, HTML5/JS, WPF and WinForms.
- link "Try Now "
- heading "Telerik Report Server" [level=5]
- paragraph: Add more Line-of-Business functionality with Telerik Report Server—end-to-end report management solution to store, manage and view reports efficiently.
- link "Try Now "
- heading "Testing & Mocking" [level=3]
- separator
- heading "Telerik Test Studio" [level=5]
- paragraph: Maximize test stability and coverage across web and desktop apps with Test Studio’s automated functional UI, API and load testing platform.
- link "Try Now "
- heading "Telerik Test Studio Dev Edition" [level=5]
- paragraph: Create low-code C# and VB.NET automated tests to ensure stable quality levels across web and desktop directly within Visual Studio with ready-to-use Visual Studio extension designed for developers.
- link "Try Now "
- heading "Telerik JustMock" [level=5]
- paragraph: Craft unit tests hassle-free and focus on the logic you want to verify with the fastest, most flexible and complete mocking tool.
- link "Try Now "
- heading "Debugging Tools" [level=3]
- separator
- heading "Telerik Fiddler Everywhere" [level=5]
- paragraph: Debug HTTP(S) network traffic with the next-gen modern web debugging proxy for macOS, Windows and Linux.
- paragraph: "*Note: 10-day FREE trial"
- link "Try Now "
- heading "Telerik Fiddler Classic" [level=5]
- paragraph: Rely on the original, community-trusted and free debugging proxy server tool for Windows.
- link "Try Now "
- heading "Telerik FiddlerCore" [level=5]
- paragraph: Capture and modify HTTP and HTTPS traffic with a reliable and robust .NET library.
- link "Try Now "
- heading "Telerik Fiddler Everywhere Reporter" [level=5]
- paragraph: Capture web traffic data easily with our free, cross-platform tool designed for non-technical users.
- link "Try Now "
- heading "CMS" [level=3]
- separator
- heading "Sitefinity" [level=5]
- paragraph: Deliver unique experiences that drive ROI and reduce total cost of ownership with Sitefinity’s intuitive, intelligent tools for marketers and flexible, extensible platform for developers.
- link "Try Now "
- heading "Free Tools" [level=3]
- separator
- heading "VB.NET to C# Converter" [level=5]
- paragraph: Convert code from VB.NET to C#, or vice versa, with a single click.
- link " Explore Product"
- heading "Testing Framework" [level=5]
- paragraph: Write automated tests for HTML5, AJAX and XAML apps.
- link "Download Now "
- contentinfo:
  - text: Complete .NET Toolbox
  - link "Telerik DevCraft"
  - text: Complete JavaScript Toolbox
  - link "Kendo UI"
  - text: Get Products
  - list:
    - listitem:
      - link "Free Trials"
    - listitem:
      - link "Pricing"
  - text: Resources
  - list:
    - listitem:
      - link "Demos"
    - listitem:
      - link "Documentation"
    - listitem:
      - link "Release History"
    - listitem:
      - link "Forums"
    - listitem:
      - link "Blogs"
    - listitem:
      - link "Webinars"
    - listitem:
      - link "Videos"
    - listitem:
      - link "Professional Services"
    - listitem:
      - link "Partners"
    - listitem:
      - link "Virtual Classroom"
    - listitem:
      - link "Events"
    - listitem:
      - link "FAQs"
  - text: Recognition
  - list:
    - listitem:
      - link "Success Stories"
    - listitem:
      - link "Testimonials"
  - text: Get in touch
  - list:
    - listitem:
      - link "Contact Us"
    - listitem:
      - list:
        - listitem:
          - 'link "USA: +1 888 679 0442"'
        - listitem:
          - 'link "UK: +44 13 4483 8186"'
        - listitem:
          - 'link "India: +91 406 9019447"'
        - listitem:
          - 'link "Bulgaria: +359 2 8099850"'
        - listitem:
          - 'link "Australia: +61 3 7068 8610"'
    - listitem:
      - list:
        - listitem:
          - link "165k+":
            - img
            - text: 165k+
        - listitem:
          - link "50k+":
            - img
            - text: 50k+
        - listitem:
          - link "17k+":
            - img
            - text: 17k+
        - listitem:
          - link "4k+":
            - img
            - text: 4k+
        - listitem:
          - link "14k+":
            - img
            - text: 14k+
        - listitem:
          - link "GitHub":
            - img
  - link "Go to Progress.com":
    - img
  - paragraph: Telerik and Kendo UI are part of Progress product portfolio. Progress is the leading provider of application development and digital experience technologies.
  - list:
    - listitem:
      - link "Company"
    - listitem:
      - link "Technology"
    - listitem:
      - link "Awards"
    - listitem:
      - link "Press Releases"
    - listitem:
      - link "Media Coverage"
    - listitem:
      - link "Careers"
    - listitem:
      - link "Offices"
  - paragraph: Copyright © 2025 Progress Software Corporation and/or its subsidiaries or affiliates. All Rights Reserved.
  - paragraph:
    - text: Progress and certain product names used herein are trademarks or registered trademarks of Progress Software Corporation and/or one of its subsidiaries or affiliates in the U.S. and/or other countries. See
    - link "Trademarks"
    - text: for appropriate markings.
  - list:
    - listitem:
      - link "Terms of Use"
    - listitem:
      - link "Site Feedback"
    - listitem:
      - link "Privacy Center"
    - listitem:
      - link "Trust Center"
  - link "Do Not Sell or Share My Personal Information"
  - paragraph:
    - text: Powered by
    - link "Progress Sitefinity"
```

# Test source

```ts
   1 | import { Page, expect } from "@playwright/test";
   2 |
   3 |
   4 | export async function brokenLinkChecker(page: Page) {
   5 |     const baseURL = "https://www.telerik.com";
   6 |
   7 |     const links = page.locator("a");
   8 |
   9 |     const allLinks = await links.all();
  10 |
  11 |     const allHrefs = await Promise.all(
  12 |         allLinks.map((link) => link.getAttribute("href"))
  13 |     )
  14 |
  15 |     const allValidHrefs = allHrefs.reduce((links, link) => {
> 16 |         expect.soft(link, `${link} is not a valid href`).toBeTruthy();
     |                                                          ^ Error: null is not a valid href
  17 |         if (link && !link?.startsWith("mailto")) {
  18 |             if (link.charAt(0) === "/" || link.charAt(0) === "#") link = baseURL + link;
  19 |             if (link.includes(baseURL)) links.add(link);
  20 |         }
  21 |             return links
  22 |         }, new Set<string>())
  23 |
  24 |         for (let url of allValidHrefs) {
  25 |             try {
  26 |                 const response = await page.request.get(url);
  27 |                 expect.soft(response.ok(), `${url} is not valid`).toBeTruthy();
  28 |             } catch(err) {
  29 |                 expect.soft(null, `${url} is not valid`).toBeTruthy();
  30 |                 expect.soft(null, "" + err).toBeTruthy();
  31 |             }
  32 |     }
  33 | }
```